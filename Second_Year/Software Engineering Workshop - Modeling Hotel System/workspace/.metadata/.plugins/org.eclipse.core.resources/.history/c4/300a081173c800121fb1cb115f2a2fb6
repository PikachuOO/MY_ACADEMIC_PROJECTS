<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.scMachineFile org.eventb.core.accurate="true" org.eventb.core.configuration="org.eventb.core.fwd">
<org.eventb.core.scRefinesMachine name="'" org.eventb.core.scTarget="/keyCard/AbstractModel.bcm" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.refinesMachine#'"/>
<org.eventb.core.scSeesContext name="(" org.eventb.core.scTarget="/keyCard/OriginalModelContext.bcc" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.seesContext#."/>
<org.eventb.core.scInternalContext name="AbstractModelContext">
<org.eventb.core.scAxiom name="'" org.eventb.core.label="axm1" org.eventb.core.predicate="finite(ALLHUMAN)" org.eventb.core.source="/keyCard/AbstractModelContext.buc|org.eventb.core.contextFile#AbstractModelContext|org.eventb.core.axiom#)" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="(" org.eventb.core.label="axm2" org.eventb.core.predicate="finite(ROOMS)" org.eventb.core.source="/keyCard/AbstractModelContext.buc|org.eventb.core.contextFile#AbstractModelContext|org.eventb.core.axiom#*" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name=")" org.eventb.core.label="axm3" org.eventb.core.predicate="ROOMS≠(∅ ⦂ ℙ(ROOMS))" org.eventb.core.source="/keyCard/AbstractModelContext.buc|org.eventb.core.contextFile#AbstractModelContext|org.eventb.core.axiom#+" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="*" org.eventb.core.label="axm4" org.eventb.core.predicate="People⊂ALLHUMAN" org.eventb.core.source="/keyCard/AbstractModelContext.buc|org.eventb.core.contextFile#AbstractModelContext|org.eventb.core.axiom#." org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="+" org.eventb.core.label="axm5" org.eventb.core.predicate="People≠(∅ ⦂ ℙ(ALLHUMAN))" org.eventb.core.source="/keyCard/AbstractModelContext.buc|org.eventb.core.contextFile#AbstractModelContext|org.eventb.core.axiom#\/" org.eventb.core.theorem="false"/>
<org.eventb.core.scCarrierSet name="ALLHUMAN" org.eventb.core.source="/keyCard/AbstractModelContext.buc|org.eventb.core.contextFile#AbstractModelContext|org.eventb.core.carrierSet#," org.eventb.core.type="ℙ(ALLHUMAN)"/>
<org.eventb.core.scConstant name="People" org.eventb.core.source="/keyCard/AbstractModelContext.buc|org.eventb.core.contextFile#AbstractModelContext|org.eventb.core.constant#-" org.eventb.core.type="ℙ(ALLHUMAN)"/>
<org.eventb.core.scCarrierSet name="ROOMS" org.eventb.core.source="/keyCard/AbstractModelContext.buc|org.eventb.core.contextFile#AbstractModelContext|org.eventb.core.carrierSet#(" org.eventb.core.type="ℙ(ROOMS)"/>
</org.eventb.core.scInternalContext>
<org.eventb.core.scInternalContext name="OriginalModelContext">
<org.eventb.core.scExtendsContext name="'" org.eventb.core.scTarget="/keyCard/AbstractModelContext.bcc|org.eventb.core.scContextFile#AbstractModelContext" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.extendsContext#'"/>
<org.eventb.core.scAxiom name="AbstractModelContexu" org.eventb.core.label="axm1" org.eventb.core.predicate="finite(Keys)" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.axiom#)" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="AbstractModelContexv" org.eventb.core.label="axm2" org.eventb.core.predicate="GuestKeys⊂Keys" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.axiom#7" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="AbstractModelContexw" org.eventb.core.label="axm3" org.eventb.core.predicate="initRoomKeys⊂Keys" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.axiom#:" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="AbstractModelContexx" org.eventb.core.label="axm4" org.eventb.core.predicate="partition(Keys,{MasterKey},GuestKeys,initRoomKeys)" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.axiom#6" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="AbstractModelContexy" org.eventb.core.label="axm5" org.eventb.core.predicate="card(initRoomKeys)=card(ROOMS)" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.axiom#;" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="AbstractModelContexz" org.eventb.core.label="axm7" org.eventb.core.predicate="card(GuestKeys)&gt;card(ROOMS)" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.axiom#=" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="AbstractModelContex{" org.eventb.core.label="axm8" org.eventb.core.predicate="Keys≠(∅ ⦂ ℙ(Keys))" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.axiom#&gt;" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="AbstractModelContex|" org.eventb.core.label="axm9" org.eventb.core.predicate="card(Keys)=10" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.axiom#@" org.eventb.core.theorem="false"/>
<org.eventb.core.scAxiom name="AbstractModelContex}" org.eventb.core.label="axm10" org.eventb.core.predicate="card(ROOMS)=3" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.axiom#A" org.eventb.core.theorem="false"/>
<org.eventb.core.scConstant name="GuestKeys" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.constant#8" org.eventb.core.type="ℙ(Keys)"/>
<org.eventb.core.scCarrierSet name="Keys" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.carrierSet#(" org.eventb.core.type="ℙ(Keys)"/>
<org.eventb.core.scConstant name="MasterKey" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.constant#5" org.eventb.core.type="Keys"/>
<org.eventb.core.scConstant name="initRoomKeys" org.eventb.core.source="/keyCard/OriginalModelContext.buc|org.eventb.core.contextFile#OriginalModelContext|org.eventb.core.constant#9" org.eventb.core.type="ℙ(Keys)"/>
</org.eventb.core.scInternalContext>
<org.eventb.core.scInvariant name="AbstractModelContexu" org.eventb.core.label="inv1" org.eventb.core.predicate="guests⊆People" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.invariant#)" org.eventb.core.theorem="false"/>
<org.eventb.core.scInvariant name="AbstractModelContexv" org.eventb.core.label="inv2" org.eventb.core.predicate="allocated∈ROOMS ⇸ guests" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.invariant#-" org.eventb.core.theorem="false"/>
<org.eventb.core.scInvariant name="AbstractModelContexw" org.eventb.core.label="inv3" org.eventb.core.predicate="occupiedRoom∈guests ⇸ ROOMS" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.invariant#0" org.eventb.core.theorem="false"/>
<org.eventb.core.scInvariant name="AbstractModelContexx" org.eventb.core.label="inv4" org.eventb.core.predicate="cleanliness∈ROOMS → BOOL" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.invariant#6" org.eventb.core.theorem="false"/>
<org.eventb.core.scInvariant name="OriginalModelContexu" org.eventb.core.label="inv1" org.eventb.core.predicate="getRoomLocks∈ROOMS → Keys ∖ {MasterKey}" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.invariant#&gt;" org.eventb.core.theorem="false"/>
<org.eventb.core.scInvariant name="OriginalModelContexv" org.eventb.core.label="inv2" org.eventb.core.predicate="usedKeys⊆Keys ∖ {MasterKey}" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.invariant#@" org.eventb.core.theorem="false"/>
<org.eventb.core.scInvariant name="OriginalModelContexw" org.eventb.core.label="inv3" org.eventb.core.predicate="shouldChangeKeys⊆Keys ∖ {MasterKey}" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.invariant#A" org.eventb.core.theorem="false"/>
<org.eventb.core.scInvariant name="OriginalModelContexx" org.eventb.core.label="inv4" org.eventb.core.predicate="guestCards∈guests ⇸ ℙ(Keys ∖ {MasterKey})" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.invariant#C" org.eventb.core.theorem="false"/>
<org.eventb.core.scInvariant name="OriginalModelContexy" org.eventb.core.label="inv5" org.eventb.core.predicate="dontAllocKeys⊆usedKeys" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.invariant#H" org.eventb.core.theorem="false"/>
<org.eventb.core.scVariable name="allocated" org.eventb.core.abstract="true" org.eventb.core.concrete="true" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.variable#," org.eventb.core.type="ℙ(ROOMS×ALLHUMAN)"/>
<org.eventb.core.scVariable name="cleanliness" org.eventb.core.abstract="true" org.eventb.core.concrete="true" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.variable#5" org.eventb.core.type="ℙ(ROOMS×BOOL)"/>
<org.eventb.core.scVariable name="dontAllocKeys" org.eventb.core.abstract="false" org.eventb.core.concrete="true" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.variable#G" org.eventb.core.type="ℙ(Keys)"/>
<org.eventb.core.scVariable name="getRoomLocks" org.eventb.core.abstract="false" org.eventb.core.concrete="true" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.variable#=" org.eventb.core.type="ℙ(ROOMS×Keys)"/>
<org.eventb.core.scVariable name="guestCards" org.eventb.core.abstract="false" org.eventb.core.concrete="true" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.variable#B" org.eventb.core.type="ℙ(ALLHUMAN×ℙ(Keys))"/>
<org.eventb.core.scVariable name="guests" org.eventb.core.abstract="true" org.eventb.core.concrete="true" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.variable#(" org.eventb.core.type="ℙ(ALLHUMAN)"/>
<org.eventb.core.scVariable name="occupiedRoom" org.eventb.core.abstract="true" org.eventb.core.concrete="false" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.variable#\/" org.eventb.core.type="ℙ(ALLHUMAN×ROOMS)"/>
<org.eventb.core.scVariable name="shouldChangeKeys" org.eventb.core.abstract="false" org.eventb.core.concrete="true" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.variable#D" org.eventb.core.type="ℙ(Keys)"/>
<org.eventb.core.scVariable name="usedKeys" org.eventb.core.abstract="false" org.eventb.core.concrete="true" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.variable#?" org.eventb.core.type="ℙ(Keys)"/>
<org.eventb.core.scEvent name="OriginalModelContexz" org.eventb.core.accurate="false" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.label="Checkout" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:">
<org.eventb.core.scRefinesEvent name="'" org.eventb.core.scTarget="/keyCard/AbstractModel.bcm|org.eventb.core.scMachineFile#AbstractModel|org.eventb.core.scEvent#AbstractModelContex}" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.refinesEvent#'"/>
<org.eventb.core.scGuard name="'" org.eventb.core.label="grd1" org.eventb.core.predicate="guest∈guests" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#4|org.eventb.core.guard#)" org.eventb.core.theorem="false"/>
<org.eventb.core.scGuard name="(" org.eventb.core.label="grd2" org.eventb.core.predicate="room∈ROOMS" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#4|org.eventb.core.guard#*" org.eventb.core.theorem="false"/>
<org.eventb.core.scGuard name=")" org.eventb.core.label="grd4" org.eventb.core.predicate="room∈dom(allocated)" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#4|org.eventb.core.guard#," org.eventb.core.theorem="false"/>
<org.eventb.core.scGuard name="*" org.eventb.core.label="grd5" org.eventb.core.predicate="allocated(room)=guest" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#4|org.eventb.core.guard#." org.eventb.core.theorem="false"/>
<org.eventb.core.scAction name="guesu" org.eventb.core.assignment="allocated ≔ {room} ⩤ allocated" org.eventb.core.label="act1" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#4|org.eventb.core.action#-"/>
<org.eventb.core.scParameter name="guest" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#4|org.eventb.core.parameter#'" org.eventb.core.type="ALLHUMAN"/>
<org.eventb.core.scParameter name="room" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#4|org.eventb.core.parameter#(" org.eventb.core.type="ROOMS"/>
<org.eventb.core.scGuard name="guesv" org.eventb.core.label="grd6" org.eventb.core.predicate="guest∈dom(guestCards)" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.guard#(" org.eventb.core.theorem="false"/>
<org.eventb.core.scGuard name="guesw" org.eventb.core.label="grd7" org.eventb.core.predicate="key1∈usedKeys∧key2∈usedKeys" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.guard#+" org.eventb.core.theorem="false"/>
<org.eventb.core.scGuard name="guesx" org.eventb.core.label="grd8" org.eventb.core.predicate="getRoomLocks(room)∈guestCards(guest)" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.guard#0" org.eventb.core.theorem="false"/>
<org.eventb.core.scGuard name="guesy" org.eventb.core.label="grd9" org.eventb.core.predicate="{key1,key2}=guestCards(guest)" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.guard#3" org.eventb.core.theorem="false"/>
<org.eventb.core.scGuard name="guesz" org.eventb.core.label="grd10" org.eventb.core.predicate="key1≠getRoomLocks(room)" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.guard#4" org.eventb.core.theorem="false"/>
<org.eventb.core.scParameter name="key1" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.parameter#)" org.eventb.core.type="Keys"/>
<org.eventb.core.scParameter name="key2" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.parameter#1" org.eventb.core.type="Keys"/>
<org.eventb.core.scAction name="gues{" org.eventb.core.assignment="dontAllocKeys ≔ dontAllocKeys ∖ {key1,key2}" org.eventb.core.label="act3" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.action#2"/>
<org.eventb.core.scAction name="gues|" org.eventb.core.assignment="shouldChangeKeys ≔ shouldChangeKeys ∖ {key1}" org.eventb.core.label="act4" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.action#5"/>
<org.eventb.core.scAction name="gues}" org.eventb.core.assignment="guestCards ≔ {guest} ⩤ guestCards" org.eventb.core.label="act5" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#:|org.eventb.core.action#6"/>
</org.eventb.core.scEvent>
<org.eventb.core.scEvent name="OriginalModelContex{" org.eventb.core.accurate="true" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.label="Clean" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#;">
<org.eventb.core.scRefinesEvent name="'" org.eventb.core.scTarget="/keyCard/AbstractModel.bcm|org.eventb.core.scMachineFile#AbstractModel|org.eventb.core.scEvent#AbstractModelContex~" org.eventb.core.source="/keyCard/OriginalSystem.bum|org.eventb.core.machineFile#OriginalSystem|org.eventb.core.event#;|org.eventb.core.refinesEvent#'"/>
<org.eventb.core.scGuard name="'" org.eventb.core.label="grd1" org.eventb.core.predicate="room∈ROOMS" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#7|org.eventb.core.guard#(" org.eventb.core.theorem="false"/>
<org.eventb.core.scGuard name="(" org.eventb.core.label="grd2" org.eventb.core.predicate="cleanliness(room)=FALSE" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#7|org.eventb.core.guard#)" org.eventb.core.theorem="false"/>
<org.eventb.core.scAction name="roon" org.eventb.core.assignment="cleanliness ≔ cleanliness{room ↦ TRUE}" org.eventb.core.label="act1" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#7|org.eventb.core.action#*"/>
<org.eventb.core.scParameter name="room" org.eventb.core.source="/keyCard/AbstractModel.bum|org.eventb.core.machineFile#AbstractModel|org.eventb.core.event#7|org.eventb.core.parameter#'" org.eventb.core.type="ROOMS"/>
</org.eventb.core.scEvent>
</org.eventb.core.scMachineFile>
